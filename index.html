<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMPAS Learning Journey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4a90a4 0%, #75c3d4 50%, #8bd3e6 100%);
            min-height: 100vh;
            color: #333;
        }

        .game-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100vh;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            border-top: 5px solid #f5a623;
        }

        .header h1 {
            color: #2c5aa0;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        /* Scenario Selection Screen */
        .scenario-selection {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .scenario-selection.hidden {
            display: none;
        }

        .selection-title {
            text-align: center;
            color: white;
            font-size: 2em;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .scenario-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 0 auto;
            max-width: 800px;
        }

        .scenario-option {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .scenario-option:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
            border-color: #4a90a4;
        }

        .scenario-icon {
            font-size: 3em;
            margin-bottom: 15px;
            text-align: center;
        }

        .scenario-option h3 {
            color: #2c5aa0;
            font-size: 1.5em;
            margin-bottom: 15px;
            text-align: center;
        }

        .scenario-option p {
            color: #666;
            line-height: 1.6;
            text-align: center;
        }

        /* Game Content (hidden until scenario selected) */
        .game-content {
            display: none;
        }

        .game-content.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .progress-container {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e8f4f8;
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4a90a4, #75c3d4);
            transition: width 0.3s ease;
            width: 0%;
        }

        .step-indicators {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .step-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 0.9em;
            color: #666;
            transition: all 0.3s ease;
        }

        .step-indicator.active {
            color: #2c5aa0;
            font-weight: bold;
        }

        .step-indicator.completed {
            color: #4a90a4;
        }

        .step-icon {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: #e8f4f8;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 8px;
            font-size: 1.3em;
            transition: all 0.3s ease;
            border: 2px solid #e8f4f8;
        }

        .step-indicator.active .step-icon {
            background: #2c5aa0;
            color: white;
            border-color: #2c5aa0;
        }

        .step-indicator.completed .step-icon {
            background: #4a90a4;
            color: white;
            border-color: #4a90a4;
        }

        .scenario-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            display: none;
            border-left: 6px solid #f5a623;
        }

        .scenario-card.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .scenario-title {
            color: #2c5aa0;
            font-size: 1.8em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .scenario-icon-small {
            margin-right: 15px;
            font-size: 1.5em;
        }

        .scenario-description {
            background: #f8fbfd;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #4a90a4;
            line-height: 1.6;
        }

        .scenario-description h3 {
            color: #2c5aa0;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .compas-section {
            margin: 25px 0;
            padding: 25px;
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f8fb 100%);
            border-radius: 12px;
            border: 2px solid #75c3d4;
        }

        .compas-header {
            font-size: 1.3em;
            color: #2c5aa0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            font-weight: 600;
        }

        .compas-icon {
            margin-right: 12px;
            font-size: 1.3em;
        }

        .choice-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }

        .choice-button {
            padding: 18px;
            background: white;
            border: 2px solid #e8f4f8;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            line-height: 1.5;
        }

        .choice-button:hover {
            border-color: #4a90a4;
            background: #f8fbfd;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 144, 164, 0.2);
        }

        .choice-button.selected {
            border-color: #2c5aa0;
            background: #e8f4f8;
        }

        .choice-button.correct {
            border-color: #4a90a4;
            background: #e8f4f8;
            box-shadow: 0 4px 12px rgba(74, 144, 164, 0.3);
        }

        .choice-button.incorrect {
            border-color: #e67e22;
            background: #fef4f0;
        }

        .feedback {
            margin: 25px 0;
            padding: 20px;
            border-radius: 12px;
            display: none;
            line-height: 1.6;
        }

        .feedback.success {
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f8fb 100%);
            border: 2px solid #4a90a4;
            color: #2c5aa0;
        }

        .feedback.error {
            background: #fef4f0;
            border: 2px solid #e67e22;
            color: #d35400;
        }

        .implementation-tip {
            background: rgba(74, 144, 164, 0.1);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #f5a623;
        }

        .implementation-tip h4 {
            color: #2c5aa0;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .nav-button {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-button.primary {
            background: #2c5aa0;
            color: white;
        }

        .nav-button.primary:hover {
            background: #1e3f73;
            transform: translateY(-2px);
        }

        .nav-button.secondary {
            background: #e8f4f8;
            color: #4a90a4;
            border: 2px solid #4a90a4;
        }

        .nav-button.secondary:hover {
            background: #4a90a4;
            color: white;
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .completion-card {
            background: linear-gradient(135deg, #4a90a4, #75c3d4);
            color: white;
            text-align: center;
            padding: 40px;
            border-radius: 15px;
            display: none;
            border-top: 6px solid #f5a623;
        }

        .completion-card.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .completion-title {
            font-size: 2.5em;
            margin-bottom: 20px;
            font-weight: 700;
        }

        .badge {
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 25px auto;
            font-size: 3.5em;
            border: 4px solid #f5a623;
        }

        .insights-list {
            text-align: left;
            margin: 25px 0;
            background: rgba(255,255,255,0.1);
            padding: 25px;
            border-radius: 12px;
        }

        .insight-item {
            margin: 15px 0;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        .insight-item:last-child {
            border-bottom: none;
        }

        .moth-callout {
            background: #fff9e6;
            border-left: 4px solid #f5a623;
            padding: 15px;
            margin: 15px 0;
            border-radius: 8px;
            font-style: italic;
            color: #666;
        }

        /* Enhanced Summary Page Styles */
        .summary-card {
            background: linear-gradient(135deg, #4a90a4, #75c3d4);
            color: white;
            text-align: center;
            padding: 40px;
            border-radius: 15px;
            display: none;
            border-top: 6px solid #f5a623;
            position: relative;
            overflow: hidden;
        }

        .summary-card.active {
            display: block;
            animation: slideIn 0.5s ease;
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: glow-pulse 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes glow-pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .summary-header {
            position: relative;
            z-index: 2;
            margin-bottom: 40px;
        }

        .summary-title {
            font-size: 2.8em;
            margin-bottom: 15px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .summary-badge {
            width: 140px;
            height: 140px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            font-size: 4em;
            border: 4px solid #f5a623;
            position: relative;
            animation: float-rotate 6s ease-in-out infinite;
        }

        @keyframes float-rotate {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-10px) rotate(5deg); }
            66% { transform: translateY(5px) rotate(-3deg); }
        }

        .certification-ribbon {
            background: linear-gradient(45deg, #f5a623, #e6931f);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin: 15px auto;
            display: inline-block;
            box-shadow: 0 4px 10px rgba(245, 166, 35, 0.3);
            animation: pulse-ribbon 2s ease-in-out infinite;
        }

        @keyframes pulse-ribbon {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .summary-subtitle {
            font-size: 1.4em;
            margin-bottom: 10px;
            opacity: 0.95;
            font-weight: 500;
        }

        .accomplishments-container {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(10px);
        }

        .accomplishments-title {
            font-size: 1.5em;
            margin-bottom: 25px;
            color: #f5a623;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
        }

        .accomplishment-cards {
            display: grid;
            gap: 15px;
            text-align: left;
        }

        .accomplishment-card {
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .accomplishment-card:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .accomplishment-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s ease;
        }

        .accomplishment-card:hover::before {
            left: 100%;
        }

        .accomplishment-icon {
            font-size: 1.8em;
            margin-right: 15px;
            display: inline-block;
            animation: float-icon 4s ease-in-out infinite;
            vertical-align: top;
        }

        @keyframes float-icon {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        .accomplishment-content {
            display: inline-block;
            width: calc(100% - 60px);
            line-height: 1.6;
            font-size: 1.05em;
        }

        .summary-footer {
            position: relative;
            z-index: 2;
            margin-top: 35px;
        }

        .summary-message {
            font-size: 1.2em;
            margin-bottom: 25px;
            opacity: 0.95;
            line-height: 1.6;
            font-weight: 400;
        }

        .restart-button {
            background: linear-gradient(45deg, #f5a623, #e6931f);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(245, 166, 35, 0.3);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .restart-button:hover {
            background: linear-gradient(45deg, #e6931f, #d1841c);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(245, 166, 35, 0.4);
        }

        .restart-button::before {
            content: 'üöÄ';
            font-size: 1.2em;
        }

        /* Enhanced Summary Page Styles */
        .summary-enhanced {
            background: linear-gradient(135deg, #2c5aa0 0%, #4a90a4 50%, #75c3d4 100%);
            position: relative;
            overflow: hidden;
        }

        .summary-enhanced::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: celebrateGlow 3s ease-in-out infinite alternate;
        }

        @keyframes celebrateGlow {
            from { transform: rotate(0deg) scale(1); opacity: 0.3; }
            to { transform: rotate(5deg) scale(1.1); opacity: 0.1; }
        }

        .summary-header {
            text-align: center;
            position: relative;
            z-index: 2;
            margin-bottom: 40px;
        }

        .summary-badge-container {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 25px 0;
        }

        .achievement-ribbon {
            background: linear-gradient(45deg, #f5a623, #f39c12);
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-top: 15px;
            letter-spacing: 1px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.3);
            box-shadow: 0 4px 15px rgba(245, 166, 35, 0.4);
            animation: ribbonPulse 2s ease-in-out infinite;
        }

        @keyframes ribbonPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .summary-subtitle {
            font-size: 1.4em;
            margin: 20px 0;
            position: relative;
            z-index: 2;
        }

        .compas-accomplishments {
            background: rgba(255,255,255,0.15);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            position: relative;
            z-index: 2;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .accomplishments-title {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            margin-bottom: 25px;
            color: white;
            font-weight: 700;
        }

        .accomplishments-icon {
            margin-right: 12px;
            font-size: 1.2em;
            animation: trophyBounce 2s ease-in-out infinite;
        }

        @keyframes trophyBounce {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .accomplishments-grid {
            display: grid;
            gap: 20px;
            grid-template-columns: 1fr;
        }

        .accomplishment-card {
            background: rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 20px;
            border-left: 5px solid #f5a623;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .accomplishment-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .accomplishment-card:hover::before {
            transform: translateX(100%);
        }

        .accomplishment-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .compas-step-icon {
            font-size: 1.5em;
            margin-right: 15px;
            display: inline-block;
            animation: stepIconFloat 3s ease-in-out infinite;
        }

        @keyframes stepIconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        .accomplishment-text {
            line-height: 1.6;
            font-size: 1.05em;
        }

        .summary-footer {
            position: relative;
            z-index: 2;
            text-align: center;
            margin-top: 40px;
        }

        .wisdom-quote {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(5px);
        }

        .quote-icon {
            font-size: 2em;
            margin-bottom: 15px;
            animation: quotePulse 3s ease-in-out infinite;
        }

        @keyframes quotePulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.1); opacity: 1; }
        }

        .wisdom-quote p {
            font-size: 1.2em;
            line-height: 1.5;
            margin: 0;
            font-style: italic;
        }

        .summary-actions {
            margin-top: 20px;
        }

        .nav-button.celebration {
            background: linear-gradient(45deg, #f5a623, #f39c12);
            border: none;
            font-size: 1.1em;
            padding: 16px 32px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 6px 20px rgba(245, 166, 35, 0.4);
            transition: all 0.3s ease;
        }

        .nav-button.celebration:hover {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(245, 166, 35, 0.6);
        }

        .button-icon {
            font-size: 1.2em;
            animation: rocketPulse 2s ease-in-out infinite;
        }

        @keyframes rocketPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .step-indicators {
                flex-wrap: wrap;
                gap: 10px;
            }
            
            .step-indicator {
                font-size: 0.8em;
            }
            
            .step-icon {
                width: 40px;
                height: 40px;
            }

            .scenario-options {
                grid-template-columns: 1fr;
            }

            .summary-title {
                font-size: 2.2em;
            }

            .summary-badge {
                width: 120px;
                height: 120px;
                font-size: 3.2em;
            }

            .accomplishments-container {
                padding: 20px;
            }

            .accomplishment-card {
                padding: 15px;
            }

            .restart-button {
                padding: 12px 25px;
                font-size: 1em;
            }

            .accomplishment-card {
                padding: 15px;
            }

            .wisdom-quote {
                padding: 20px;
            }

            .wisdom-quote p {
                font-size: 1.1em;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <svg width="60" height="60" viewBox="0 0 60 60" style="margin-bottom: 15px;" xmlns="http://www.w3.org/2000/svg">
                <!-- Outer compass ring -->
                <circle cx="30" cy="30" r="28" fill="none" stroke="#2c5aa0" stroke-width="2"/>
                <circle cx="30" cy="30" r="24" fill="none" stroke="#4a90a4" stroke-width="1"/>
                
                <!-- Compass rose background -->
                <circle cx="30" cy="30" r="20" fill="#75c3d4" opacity="0.3"/>
                
                <!-- Main compass points (N, S, E, W) -->
                <g transform="translate(30,30)">
                    <!-- North -->
                    <path d="M0,-18 L3,-12 L0,-8 L-3,-12 Z" fill="#2c5aa0"/>
                    <!-- South -->
                    <path d="M0,18 L3,12 L0,8 L-3,12 Z" fill="#4a90a4"/>
                    <!-- East -->
                    <path d="M18,0 L12,3 L8,0 L12,-3 Z" fill="#4a90a4"/>
                    <!-- West -->
                    <path d="M-18,0 L-12,3 L-8,0 L-12,-3 Z" fill="#4a90a4"/>
                    
                    <!-- Secondary points -->
                    <path d="M12,-12 L8,-8 L6,-10 L10,-14 Z" fill="#75c3d4"/>
                    <path d="M12,12 L8,8 L6,10 L10,14 Z" fill="#75c3d4"/>
                    <path d="M-12,12 L-8,8 L-6,10 L-10,14 Z" fill="#75c3d4"/>
                    <path d="M-12,-12 L-8,-8 L-6,-10 L-10,-14 Z" fill="#75c3d4"/>
                </g>
                
                <!-- Compass needle -->
                <g transform="translate(30,30)">
                    <path d="M0,-15 L4,-2 L0,0 L-4,-2 Z" fill="#f5a623"/>
                    <path d="M0,15 L4,2 L0,0 L-4,2 Z" fill="#2c5aa0"/>
                </g>
                
                <!-- Center point -->
                <circle cx="30" cy="30" r="3" fill="#2c5aa0"/>
                <circle cx="30" cy="30" r="1.5" fill="white"/>
            </svg>
            <h1>COMPAS Learning Journey</h1>
            <p>Navigate any challenge without reaching for the flamethrower</p>
        </div>

        <!-- Scenario Selection Screen -->
        <div class="scenario-selection" id="scenarioSelection">
            <h2 class="selection-title">Choose Your COMPAS Adventure</h2>
            <div class="scenario-options">
                <div class="scenario-option" onclick="selectScenario('moth')">
                    <div class="scenario-icon">ü¶ã</div>
                    <h3>The Great Moth Infestation</h3>
                    <p>Learn COMPAS through a hilarious personal crisis involving pantry moths, vacuum cleaners, and the temptation of flamethrowers.</p>
                </div>
                <div class="scenario-option" onclick="selectScenario('nonprofit')">
                    <div class="scenario-icon">üíº</div>
                    <h3>The Nonprofit AI Panic</h3>
                    <p>Apply COMPAS to help Monica's arts nonprofit navigate the pressure to "implement AI" when the real problem is spreadsheet chaos.</p>
                </div>
            </div>
        </div>

        <!-- Game Content (hidden until scenario selected) -->
        <div class="game-content" id="gameContent">
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="step-indicators">
                    <div class="step-indicator active" data-step="0">
                        <div class="step-icon">üîç</div>
                        <span>Context</span>
                    </div>
                    <div class="step-indicator" data-step="1">
                        <div class="step-icon">üéØ</div>
                        <span>Objective</span>
                    </div>
                    <div class="step-indicator" data-step="2">
                        <div class="step-icon">üìã</div>
                        <span>Method</span>
                    </div>
                    <div class="step-indicator" data-step="3">
                        <div class="step-icon">üìä</div>
                        <span>Performance</span>
                    </div>
                    <div class="step-indicator" data-step="4">
                        <div class="step-icon">üîÑ</div>
                        <span>Assessment</span>
                    </div>
                    <div class="step-indicator" data-step="5">
                        <div class="step-icon">‚≠ê</div>
                        <span>Super You</span>
                    </div>
                </div>
            </div>

            <!-- Scenario content will be injected here -->
            <div id="scenarioContent"></div>

            <!-- Completion Card -->
            <div class="completion-card" id="completion">
                <div class="completion-title">üéâ You're a COMPAS Navigator!</div>
                <div class="badge">üß≠</div>
                <h2 id="completionMessage"></h2>
                
                <div class="insights-list">
                    <h3 id="insightsTitle"></h3>
                    <div id="insightsContent"></div>
                </div>

                <div style="margin-top: 30px;">
                    <p style="font-size: 1.1em; margin-bottom: 20px;">Remember: Technology is almost NEVER the problem. The problem is approaching it without COMPAS!</p>
                    <button class="nav-button primary" onclick="showSummary()">Continue to Summary</button>
                </div>
            </div>

            <!-- Enhanced Summary Card -->
            <div class="summary-card" id="summary">
                <div class="summary-header">
                    <div class="summary-title">üéì Your COMPAS Mastery</div>
                    <div class="summary-badge">üß≠</div>
                    <div class="certification-ribbon">CERTIFIED NAVIGATOR</div>
                    <h2 class="summary-subtitle" id="summaryMessage"></h2>
                </div>
                
                <div class="accomplishments-container">
                    <h3 class="accomplishments-title">‚ú® Your COMPAS Accomplishments</h3>
                    <div class="accomplishment-cards" id="summaryContent"></div>
                </div>

                <div class="summary-footer">
                    <p class="summary-message">The COMPAS framework works for any challenge - from kitchen crises to organizational transformation.</p>
                    <button class="restart-button" onclick="resetGame()">Start Another Journey</button>
                </div>
            </div>

            <div class="navigation" id="navigation">
                <button class="nav-button secondary" id="prevBtn" onclick="previousStep()" disabled>‚Üê Previous</button>
                <button class="nav-button primary" id="nextBtn" onclick="nextStep()" disabled>Next Step ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 0;
        let selectedChoices = {};
        let currentScenario = null;
        
        // Scenario data structure
        const scenarios = {
            moth: {
                name: "Moth Scenario",
                completionTitle: "You've Mastered Personal Problem-Solving!",
                insightsTitle: "ü¶ã Your Moth-Fighting Wisdom:",
                summaryTitle: "You've conquered the Great Moth Infestation using COMPAS!",
                summaryContent: [
                    "üîç <strong>Context:</strong> Investigated the moth situation instead of panic-ordering flamethrowers",
                    "üéØ <strong>Objective:</strong> Defined the real problem (moth-free pantry + edible food) vs. total moth annihilation",
                    "üìã <strong>Method:</strong> Used systematic approach (freezing, bay leaves, containers) over dramatic solutions",
                    "üìä <strong>Performance:</strong> Discovered simple solutions (airtight containers) beat complex ones",
                    "üîÑ <strong>Assessment:</strong> Shared learnings to help neighbors skip the flamethrower phase",
                    "‚≠ê <strong>Super You:</strong> Developed systematic problem-solving that applies to any challenge"
                ],
                scenarios: [
                    // Context
                    {
                        title: "Context: The 6:14 AM Crisis",
                        icon: "üîç",
                        description: `
                            <h3>ü¶ã The Pantry Moth Apocalypse</h3>
                            <p>It's Tuesday morning, 6:14 AM. You're standing on a kitchen chair, wielding a vacuum cleaner like a deranged domestic gladiator. Your opponent? A swarm of pantry moths that have transformed your Bob's Red Mill steel-cut oatmeal into a lepidopteran discotheque.</p>
                            <p>Your first thought: "Maybe I should burn down the kitchen." Your second thought: "No, just the pantry." Your third thought: "Actually, let me ask ChatGPT how to violently subdue pantry moths...ethically?"</p>
                            <p><strong>The panic is real.</strong> But what do you actually know about this situation?</p>
                        `,
                        callout: `ü¶ã Before you can solve any problem, you need to understand the full context. Where are the moths coming from? What are they after? Why do they have a particular fetish for Bob's Red Mill products?`,
                        question: "Context: What's your first step in understanding this moth situation?",
                        choices: [
                            { id: "A", text: "Google 'industrial strength moth elimination equipment' and order everything with next-day delivery" },
                            { id: "B", text: "Investigate where they're actually coming from, what they're eating, and how long this has been going on" },
                            { id: "C", text: "Call an exterminator immediately - this is beyond your expertise" },
                            { id: "D", text: "Move out. The moths have won. This is their house now." }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Brilliant! Just like in any crisis, understanding the actual situation beats panic ordering flamethrowers from Amazon. You discover: moths are coming from one contaminated bag, they've been there for weeks, and they particularly love grains stored in paper bags. This context changes everything!\n\n<div class='implementation-tip'><h4>üõ†Ô∏è Context Gathering:</h4>‚Ä¢ Check all food storage areas systematically<br>‚Ä¢ Look for larvae, webbing, and adult moths<br>‚Ä¢ Note which products are affected<br>‚Ä¢ Understand the timeline and spread</div>",
                            incorrect: "ü§î Classic panic response! But without understanding the context (where they're coming from, what they're eating), you're just flailing around. You might order expensive solutions that don't address the actual problem. Start with investigation!"
                        }
                    },
                    // Objective
                    {
                        title: "Objective: Define the ACTUAL Problem",
                        icon: "üéØ",
                        description: `
                            <h3>üî• The Flamethrower Temptation</h3>
                            <p>Your investigation revealed the context: moths originated from one bag of flour, spread to nearby grains, and love your premium organic products. You've contained the immediate swarm with your vacuum.</p>
                            <p>Now your engineering-savvy son finds you tinkering with the flamethrower you panic-ordered from Amazon. He asks, quite reasonably: "Uhh, Dad...why do you need a flamethrower?"</p>
                            <p>You explain the moth situation. He replies: "You're an idiot. A flamethrower is not a good solution and it's going to cause many more problems than it solves. Why don't we work on the root of the pantry moth problem instead?"</p>
                            <p><strong>He's right.</strong> What's the actual objective here?</p>
                        `,
                        callout: `üî• "Solutionizing" - jumping to dramatic solutions before defining the actual problem. We all do it!`,
                        question: "Objective: What's the REAL problem you need to solve?",
                        choices: [
                            { id: "A", text: "Achieve total moth annihilation using maximum firepower" },
                            { id: "B", text: "Prevent future infestations while safely removing current moths and protecting remaining food" },
                            { id: "C", text: "Install an automated moth detection and elimination system" },
                            { id: "D", text: "Create the most moth-proof pantry known to humanity" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Perfect! You've avoided the flamethrower trap. Your objective is specific and achievable: remove current moths, save uncontaminated food, and prevent future infestations. No kitchen burning required! This is exactly how to think about objectives - solve the actual problem, not the dramatic version in your head.\n\n<div class='implementation-tip'><h4>üéØ Setting Real Objectives:</h4>‚Ä¢ Focus on the root problem, not symptoms<br>‚Ä¢ Make it specific and achievable<br>‚Ä¢ Avoid over-engineering the solution<br>‚Ä¢ Consider collateral damage of dramatic approaches</div>",
                            incorrect: "üî• That's flamethrower thinking! You're focused on dramatic solutions rather than the actual problem. Remember: the objective is to have a moth-free pantry with edible food, not to wage war or build a fortress."
                        }
                    },
                    // Method
                    {
                        title: "Method: Your Three-Pronged Plan",
                        icon: "üìã",
                        description: `
                            <h3>üó∫Ô∏è From Flamethrower to Systematic Approach</h3>
                            <p>With your son's help (and the flamethrower safely returned to Amazon), you need a method that actually works. After some research, you discover that moth elimination isn't about dramatic gestures - it's about systematic action.</p>
                            <p>You learn that moths hate cold, love pheromones, and can't penetrate certain barriers. Armed with this knowledge, you can create a plan that doesn't involve burning down your kitchen.</p>
                            <p><strong>Time for a method</strong> that would make any engineer proud (and keep your house intact).</p>
                        `,
                        callout: `üåø Like bay leaves instead of flamethrowers - systematic methods beat dramatic gestures every time.`,
                        question: "Method: What's your systematic approach?",
                        choices: [
                            { id: "A", text: "Freeze all grains for 72 hours, deploy bay leaves as deterrent, install pheromone traps, transfer everything to airtight containers" },
                            { id: "B", text: "Throw away everything and start fresh with all new food" },
                            { id: "C", text: "Spray the entire pantry with the strongest pesticide available" },
                            { id: "D", text: "Set up a 24/7 moth surveillance system with automatic alerts" }
                        ],
                        correct: "A",
                        feedback: {
                            correct: "üéØ Brilliant systematic thinking! Freezing kills larvae (addressing the root), bay leaves repel new moths (prevention), pheromone traps catch stragglers (monitoring), and airtight containers prevent future infestations (long-term solution). This is exactly how method works - multiple complementary approaches that address different aspects of the problem.\n\n<div class='implementation-tip'><h4>üìã Method Design:</h4>‚Ä¢ Address immediate problem (freezing)<br>‚Ä¢ Prevent recurrence (bay leaves, containers)<br>‚Ä¢ Monitor progress (traps)<br>‚Ä¢ Use multiple complementary approaches<br>‚Ä¢ Avoid single-point-of-failure solutions</div>",
                            incorrect: "ü§î That's either wasteful, dangerous, or over-engineered! A good method uses multiple simple, proven approaches that work together. Think systematic, not dramatic."
                        }
                    },
                    // Performance
                    {
                        title: "Performance: The Surprising Discovery",
                        icon: "üìä",
                        description: `
                            <h3>üí° When Simple Solutions Win</h3>
                            <p>Two weeks into your method implementation, you're checking the pheromone traps (which cost more than the oatmeal they're protecting). The freezer trick worked perfectly - no more larvae. Bay leaves are stationed like tiny soldiers throughout your pantry.</p>
                            <p>But here's the plot twist: You discover that 90% of your moth problem could have been prevented by one simple change - storing grains in airtight containers instead of leaving them in paper bags. The fancy pheromone traps? They've caught 3 moths. The bay leaves? Jury's still out.</p>
                            <p><strong>The revelation:</strong> The simplest solution (proper storage) would have prevented the whole crisis.</p>
                        `,
                        callout: `üí° Sometimes the best solution isn't the most complex one. It's the one that actually works.`,
                        question: "Performance: How do you handle this discovery?",
                        choices: [
                            { id: "A", text: "Feel foolish for overcomplicating things and remove all the fancy solutions" },
                            { id: "B", text: "Celebrate that you found what works, keep the simple solutions, and view the traps as insurance" },
                            { id: "C", text: "Double down on complex solutions to justify the effort" },
                            { id: "D", text: "Start a blog about your moth-fighting journey to help others" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Perfect mindset! You discovered that simple solutions (airtight containers) solve 90% of the problem - that's a win! The traps serve as early warning systems, and you've learned valuable lessons. This is exactly how performance works: implement, discover what actually works, and adjust without ego.\n\n<div class='implementation-tip'><h4>üí° Performance Insights:</h4>‚Ä¢ Celebrate when simple solutions work<br>‚Ä¢ Don't feel obligated to use complex tools<br>‚Ä¢ View 'overengineering' as learning<br>‚Ä¢ Focus on what actually solved the problem<br>‚Ä¢ Keep useful elements as safeguards</div>",
                            incorrect: "ü§î Don't let perfect be the enemy of good! Finding out that simple solutions work best IS the success. Learn from it and move forward."
                        }
                    },
                    // Assessment
                    {
                        title: "Assessment: The Three-Month Check-In",
                        icon: "üîÑ",
                        description: `
                            <h3>üìè Measuring Your Moth-Free Victory</h3>
                            <p>Three months later, you're doing your regular pantry check. The results:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li>Zero moths in pheromone traps for 8 weeks ‚úÖ</li>
                                <li>All grains in airtight containers ‚úÖ</li>
                                <li>Bay leaves... well, they smell nice? ü§∑</li>
                                <li>Your premium Bob's Red Mill oats remain unmolested ‚úÖ</li>
                            </ul>
                            <p>But then you notice something: your neighbor just posted on NextDoor about a moth infestation. They're asking about exterminators and considering throwing away hundreds of dollars of food.</p>
                            <p><strong>Assessment moment:</strong> What do you do with your hard-won knowledge?</p>
                        `,
                        callout: `üîç Assessment isn't just about checking if something worked - it's about learning and sharing what you've discovered.`,
                        question: "Assessment: How do you apply your learning?",
                        choices: [
                            { id: "A", text: "Share your simple solution (airtight containers) and save them from the flamethrower phase" },
                            { id: "B", text: "Keep quiet - they need to learn the hard way like you did" },
                            { id: "C", text: "Recommend they buy all the complex solutions you tried" },
                            { id: "D", text: "Suggest they just move houses like you initially considered" }
                        ],
                        correct: "A",
                        feedback: {
                            correct: "üéØ Excellent! Sharing your simple, effective solution helps others skip the panic phase and jump straight to what works. This is peak assessment - not just measuring success, but using your learning to help others. You've turned your moth crisis into community wisdom!\n\n<div class='implementation-tip'><h4>üîÑ Assessment Actions:</h4>‚Ä¢ Regularly check if solutions still work<br>‚Ä¢ Document what was actually effective<br>‚Ä¢ Share learnings to help others<br>‚Ä¢ Skip the drama, share the solution<br>‚Ä¢ Build on what you've learned</div>",
                            incorrect: "ü§î Why let others suffer through the flamethrower phase? Good assessment means sharing what actually worked, helping others avoid your mistakes."
                        }
                    },
                    // Super You
                    {
                        title: "Super You: The Compound Effect",
                        icon: "‚≠ê",
                        description: `
                            <h3>üöÄ From Moth Crisis to Life Wisdom</h3>
                            <p>Six months later, something interesting has happened. The moth crisis taught you something profound: your pattern of panicking and reaching for dramatic solutions extended far beyond the pantry.</p>
                            <p>Since then, you've applied this approach to other challenges:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li><strong>Car trouble:</strong> Investigated symptoms before buying random parts</li>
                                <li><strong>Computer slowdown:</strong> Checked storage before buying new laptop</li>
                                <li><strong>Garden pests:</strong> Tried companion planting before pesticides</li>
                            </ul>
                            <p>Each time, you got a bit better at pausing, understanding context, and finding simple solutions. The compound effect is remarkable.</p>
                            <p><strong>The transformation:</strong> You've become someone who solves problems systematically instead of dramatically.</p>
                        `,
                        callout: `‚≠ê "The Super You is simply the version of you that never stops learning, adapting, and improving."`,
                        question: "Super You: What made the real difference?",
                        choices: [
                            { id: "A", text: "Learning to pause, investigate, and find simple solutions before reaching for flamethrowers" },
                            { id: "B", text: "Becoming an expert in moth biology and pest control" },
                            { id: "C", text: "Having the most organized pantry in the neighborhood" },
                            { id: "D", text: "Never having to deal with moths again" }
                        ],
                        correct: "A",
                        feedback: {
                            correct: "üéØ That's it! The Super You isn't about becoming a moth expert - it's about developing a systematic approach to ANY problem. Each time you pause before panicking, investigate before solutionizing, and try simple fixes before complex ones, you get better. It compounds into wisdom that applies everywhere!\n\n<div class='implementation-tip'><h4>‚≠ê Your Superpower:</h4>‚Ä¢ Pause before panicking<br>‚Ä¢ Context before solutions<br>‚Ä¢ Simple before complex<br>‚Ä¢ Learn from each experience<br>‚Ä¢ Apply lessons broadly<br>‚Ä¢ Compound improvement over time</div>",
                            incorrect: "ü§î The real superpower isn't domain expertise - it's the systematic approach you can apply to ANY problem. Think bigger!"
                        }
                    }
                ],
                insights: [
                    { title: "Context Over Panic", text: "Like discovering moths in your pantry, understanding the full situation prevents flamethrower solutions." },
                    { title: "Real Problems Over Drama", text: "'Eliminate all moths forever' is not an objective. 'Protect food and prevent reinfestation' is." },
                    { title: "Systematic Methods Win", text: "Bay leaves and pheromone traps beat flamethrowers. Simple solutions often beat complex ones." },
                    { title: "Celebrate Simple Success", text: "When airtight containers solve 90% of the problem, that's a win, not a disappointment." },
                    { title: "Share Your Learning", text: "Help others skip the flamethrower phase and jump straight to what works." },
                    { title: "Compound Improvement", text: "Each problem solved systematically makes you better at solving the next one." }
                ]
            },
            nonprofit: {
                name: "Nonprofit Scenario",
                completionTitle: "You've Mastered Organizational AI Navigation!",
                insightsTitle: "üíº Your AI Leadership Wisdom:",
                summaryTitle: "You've successfully navigated the Nonprofit AI Panic using COMPAS!",
                summaryContent: [
                    "üîç <strong>Context:</strong> Discovered your organization's actual AI reality through anonymous surveys",
                    "üéØ <strong>Objective:</strong> Focused on real problems (20-hour grant reports) vs. vague 'AI transformation'",
                    "üìã <strong>Method:</strong> Mapped current processes and tested simple solutions before complex AI",
                    "üìä <strong>Performance:</strong> Achieved 16-hour monthly savings using mostly Excel formulas",
                    "üîÑ <strong>Assessment:</strong> Addressed AI bias concerns while preserving benefits through guidelines",
                    "‚≠ê <strong>Super You:</strong> Became a thoughtful tech leader who solves problems systematically"
                ],
                scenarios: [
                    // Context
                    {
                        title: "Context: Discovering Your AI Reality",
                        icon: "üîç",
                        description: `
                            <h3>üíº Monica's Monday Morning Meltdown</h3>
                            <p>You're Monica, running a 25-person arts nonprofit. It's Monday morning, and you're drowning in spreadsheets. Again. Your grant report (due Friday) requires data from 5 different spreadsheets that don't talk to each other. You've already spent 6 hours on it.</p>
                            <p>At the board meeting last week, three different board members asked about your "AI strategy." One forwarded an article about nonprofits using AI to "transform operations." Another mentioned their company saved millions with AI.</p>
                            <p>Meanwhile, you discovered your communications coordinator is using ChatGPT to write donor emails, your program manager is experimenting with some AI scheduling tool, and your development director is terrified AI will replace her.</p>
                            <p><strong>The pressure is real:</strong> Everyone's talking AI, but what's actually happening in your organization?</p>
                        `,
                        callout: `üîç AI tools are already breeding in the corners of your organization... but is that good or bad?`,
                        question: "Context: How do you understand your organization's AI reality?",
                        choices: [
                            { id: "A", text: "Send a stern email about unauthorized AI use and data security risks" },
                            { id: "B", text: "Create an anonymous survey to discover how staff are using AI and what problems they're trying to solve" },
                            { id: "C", text: "Research what similar nonprofits are doing with AI and copy their approach" },
                            { id: "D", text: "Hire an AI consultant to tell you what you need" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Perfect approach! You need to understand your reality before making decisions. An anonymous survey will reveal both the creative solutions staff have found AND the problems they're trying to solve. You might discover brilliant innovations or risky practices - but at least you'll know!\n\n<div class='implementation-tip'><h4>üõ†Ô∏è Context Discovery:</h4>‚Ä¢ Ask what repetitive tasks waste time<br>‚Ä¢ Discover current AI experiments (good and bad)<br>‚Ä¢ Map biggest time drains<br>‚Ä¢ Promise no punishment for honesty<br>‚Ä¢ Focus on problems, not solutions</div>",
                            incorrect: "ü§î That's jumping to solutions (or panic) before understanding the situation! You need to know what's actually happening before you can make good decisions. Try the survey approach to discover your reality."
                        }
                    },
                    // Objective
                    {
                        title: "Objective: The Real Problem Emerges",
                        icon: "üéØ",
                        description: `
                            <h3>üéØ From 'AI Strategy' to Actual Problems</h3>
                            <p>Your anonymous survey revealed fascinating insights:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li>3 staff using ChatGPT for writing (mostly successfully)</li>
                                <li>Grant reporting takes 20+ hours monthly due to manual data compilation</li>
                                <li>Event registration involves copying data between 4 different systems</li>
                                <li>Staff spend 40% of time on repetitive data entry</li>
                                <li>Board members expect "AI transformation" but can't define it</li>
                            </ul>
                            <p>In your exhausted state, you're tempted to announce: "We're implementing AI across all operations!" It sounds impressive and would satisfy the board.</p>
                            <p><strong>But wait:</strong> What problem are you actually trying to solve?</p>
                        `,
                        callout: `üî• "We need AI" is just like "I need a flamethrower" - a solution looking for a problem.`,
                        question: "Objective: What's the REAL problem to solve?",
                        choices: [
                            { id: "A", text: "Implement AI across all departments to become a cutting-edge nonprofit" },
                            { id: "B", text: "Reduce grant reporting time from 20 hours to 2 hours monthly, freeing time for donor relationships" },
                            { id: "C", text: "Create an AI policy to control what tools staff can use" },
                            { id: "D", text: "Train all staff in AI to prepare for the future" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Brilliant! You've avoided the 'flamethrower trap' of implementing AI everywhere. Your objective is specific, measurable, and directly tied to pain: reduce grant reporting from 20 hours to 2 hours. That's 18 hours monthly for actual mission work! This is how great objectives work - they solve real problems with measurable outcomes.\n\n<div class='implementation-tip'><h4>üéØ Setting Real Objectives:</h4>‚Ä¢ Pick ONE specific pain point<br>‚Ä¢ Make it measurable (20 hrs ‚Üí 2 hrs)<br>‚Ä¢ Connect to mission impact<br>‚Ä¢ Resist 'transform everything' pressure<br>‚Ä¢ Focus on time freed for important work</div>",
                            incorrect: "üî• That's solutionizing! You're prescribing AI before defining what problem it solves. Focus on a specific, measurable pain point - like those 20 hours wasted on grant reports."
                        }
                    },
                    // Method
                    {
                        title: "Method: Designing Your Approach",
                        icon: "üìã",
                        description: `
                            <h3>üìã From Chaos to Systematic Solution</h3>
                            <p>Great objective! Now you need a method to reduce grant reporting from 20 to 2 hours. Your current process involves:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li>Rebecca manually copying program data from 3 spreadsheets</li>
                                <li>David re-entering financial data that already exists in QuickBooks</li>
                                <li>You spending hours formatting and checking for errors</li>
                                <li>Everyone using different date formats and naming conventions</li>
                            </ul>
                            <p>The board expects an "AI solution," but you're learning that jumping straight to AI might be overkill that creates new problems.</p>
                            <p><strong>Time for a systematic approach</strong> that actually solves the problem.</p>
                        `,
                        callout: `üåø Sometimes the best method isn't the flashiest one.`,
                        question: "Method: What's your systematic approach?",
                        choices: [
                            { id: "A", text: "Map current process, identify repetitive steps, test simple fixes first (formulas, connections), use AI only where it adds value" },
                            { id: "B", text: "Buy an AI-powered grant management system and require everyone to use it" },
                            { id: "C", text: "Have ChatGPT write all your grant reports from now on" },
                            { id: "D", text: "Hire a data analyst to handle all reporting" }
                        ],
                        correct: "A",
                        feedback: {
                            correct: "üéØ Perfect systematic thinking! By mapping the current process first, you'll likely discover that simple solutions (Excel formulas, basic integrations) can eliminate 80% of the work. AI might help with the remaining 20%, but only after you've fixed the basics. This is exactly how to approach any tech challenge - understand, simplify, then enhance.\n\n<div class='implementation-tip'><h4>üìã Method Design:</h4>‚Ä¢ Always map current process first<br>‚Ä¢ Look for simple fixes (formulas, templates)<br>‚Ä¢ Test with actual users<br>‚Ä¢ Add complexity only where needed<br>‚Ä¢ Keep humans in the loop</div>",
                            incorrect: "ü§î That's jumping to complex solutions! Start by understanding what you have, then test simple fixes. You might not even need AI for most of it."
                        }
                    },
                    // Performance
                    {
                        title: "Performance: The Plot Twist",
                        icon: "üìä",
                        description: `
                            <h3>üí° When Simple Beats Complex</h3>
                            <p>Two weeks into implementation, something surprising happened. As you mapped the process with Rebecca and David, you discovered:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li>60% of time was spent re-entering data that already existed elsewhere</li>
                                <li>A simple VLOOKUP formula automated half of Rebecca's work</li>
                                <li>Connecting QuickBooks to Excel eliminated David's manual entry</li>
                                <li>Standardized templates prevented formatting issues</li>
                                <li>Only the narrative sections might benefit from AI assistance</li>
                            </ul>
                            <p>Grant reports now take 4 hours instead of 20. No AI required (yet)!</p>
                            <p><strong>The awkward realization:</strong> The board expects an "AI success story," but you've mostly used Excel formulas.</p>
                        `,
                        callout: `üí° Sometimes simple solutions are the real winners.`,
                        question: "Performance: How do you handle this non-AI success?",
                        choices: [
                            { id: "A", text: "Force AI into the process to meet board expectations" },
                            { id: "B", text: "Celebrate the time savings, explain what worked, and note AI can help with remaining tasks" },
                            { id: "C", text: "Feel like you failed because you didn't use enough AI" },
                            { id: "D", text: "Pretend the Excel formulas are AI to impress the board" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Perfect leadership! You solved the actual problem and saved 16 hours monthly - that's SUCCESS! By being honest about what worked (and what didn't need AI), you build trust and credibility. Plus, you can still explore AI for narrative writing. This is exactly how to handle technology - results over hype.\n\n<div class='implementation-tip'><h4>üí° Performance Communication:</h4>‚Ä¢ Lead with results (16 hours saved!)<br>‚Ä¢ Explain what actually worked<br>‚Ä¢ Don't apologize for simple solutions<br>‚Ä¢ Position AI as 'next phase' if needed<br>‚Ä¢ Focus on mission impact of time saved</div>",
                            incorrect: "ü§î Don't let 'AI strategy' pressure override actual success! You saved 16 hours monthly - celebrate that! Being honest about what worked builds more trust than forcing unnecessary tech."
                        }
                    },
                    // Assessment
                    {
                        title: "Assessment: The Three-Month Reality Check",
                        icon: "üîÑ",
                        description: `
                            <h3>üîÑ Measuring Real Impact</h3>
                            <p>Three months later, you're presenting to the board. The results:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li>Grant reporting: 20 hrs ‚Üí 4 hrs monthly ‚úÖ</li>
                                <li>Rebecca used saved time to cultivate 5 new donor relationships</li>
                                <li>David implemented similar fixes for budget reports (saved 10 hrs/month)</li>
                                <li>Staff asking "What else can we fix?" instead of "What AI should we buy?"</li>
                            </ul>
                            <p>But then Rebecca mentions: "The ChatGPT tool I use for donor emails sometimes generates weird phrases about our Latino community programs. I have to really watch it."</p>
                            <p><strong>Assessment moment:</strong> How do you handle this risk while maintaining momentum?</p>
                        `,
                        callout: `üîç Real assessment means celebrating wins AND addressing risks quickly - especially when they affect your community.`,
                        question: "Assessment: How do you address the AI bias concern?",
                        choices: [
                            { id: "A", text: "Ban all AI use immediately to avoid any risks" },
                            { id: "B", text: "Create guidelines for AI use in community communications, require human review, and share learnings" },
                            { id: "C", text: "Ignore it - Rebecca catches the errors anyway" },
                            { id: "D", text: "Buy a more expensive AI tool that promises no bias" }
                        ],
                        correct: "B",
                        feedback: {
                            correct: "üéØ Excellent balanced approach! By creating guidelines and requiring human review, you protect your community relationships while keeping the benefits of AI assistance. Sharing these learnings helps everyone use AI more responsibly. This is mature assessment - address risks without throwing away benefits.\n\n<div class='implementation-tip'><h4>üîÑ Assessment Best Practices:</h4>‚Ä¢ Regular check-ins on what's working<br>‚Ä¢ Quick action on risks (especially bias)<br>‚Ä¢ Create guidelines, not bans<br>‚Ä¢ Keep humans in the loop for sensitive content<br>‚Ä¢ Share learnings across teams</div>",
                            incorrect: "ü§î That's either ignoring real risk or overreacting! Good assessment means addressing problems while preserving benefits. Guidelines and human review can manage the risk while keeping the efficiency gains."
                        }
                    },
                    // Super You
                    {
                        title: "Super You: The Compound Effect",
                        icon: "‚≠ê",
                        description: `
                            <h3>‚≠ê From Panic to Systematic Leadership</h3>
                            <p>One year later, you've applied this approach to multiple challenges:</p>
                            <ul style="margin: 15px 0; padding-left: 25px;">
                                <li><strong>Event registration:</strong> Simple automation saved 15 hrs/month</li>
                                <li><strong>Donor communications:</strong> AI drafts + human review improved quality</li>
                                <li><strong>Program evaluation:</strong> Better data connections revealed impact stories</li>
                                <li><strong>Board reports:</strong> Automated dashboards ended fire drills</li>
                            </ul>
                            <p>Your team now approaches new challenges by asking "What's the real problem?" instead of "What AI tool do we need?" The board sees you as a thoughtful tech leader who gets results. Other nonprofits ask for your advice.</p>
                            <p><strong>The transformation:</strong> You've become 1% better with each challenge. It compounds remarkably.</p>
                        `,
                        callout: `‚≠ê "The Super You is simply the version of you that never stops learning, adapting, and improving." - One problem at a time!`,
                        question: "Super You: What made you an effective AI leader?",
                        choices: [
                            { id: "A", text: "Learning to identify real problems before jumping to AI solutions, then improving with each cycle" },
                            { id: "B", text: "Becoming an AI technical expert who can code" },
                            { id: "C", text: "Implementing AI in every department" },
                            { id: "D", text: "Having the most advanced tech stack in the nonprofit sector" }
                        ],
                        correct: "A",
                        feedback: {
                            correct: "üéØ That's it exactly! The Super You isn't about becoming an AI expert - it's about systematic problem-solving that gets better with each iteration. By focusing on real problems, trying simple solutions first, and learning from each experience, you've developed judgment that applies to any technology challenge. This compounds into remarkable leadership!\n\n<div class='implementation-tip'><h4>‚≠ê Your Superpower:</h4>‚Ä¢ Problem-first thinking<br>‚Ä¢ Simple before complex<br>‚Ä¢ Learn from each cycle<br>‚Ä¢ Build on small wins<br>‚Ä¢ Share your learnings<br>‚Ä¢ Compound improvement over time</div>",
                            incorrect: "ü§î Technical expertise isn't the superpower - it's the systematic approach to problem-solving that gets better each time. Think about the compound effect of good judgment!"
                        }
                    }
                ],
                insights: [
                    { title: "Context Over Assumptions", text: "Understanding your actual AI landscape (shadow AI and all) beats making decisions based on board pressure." },
                    { title: "Problems Over Solutions", text: "'We need AI' isn't an objective. 'Save 18 hours on grant reporting' is." },
                    { title: "Simple First", text: "Excel formulas and basic integrations often solve 80% of the problem before AI is needed." },
                    { title: "Honest Success", text: "Celebrating non-AI solutions that work builds more trust than forcing unnecessary technology." },
                    { title: "Quick Risk Response", text: "Address bias and risks immediately while preserving benefits - guidelines beat bans." },
                    { title: "Compound Leadership", text: "Each problem solved systematically makes you better at solving the next one. It adds up fast." }
                ]
            }
        };

        let correctAnswers = {};
        let feedbackMessages = {};

        function selectScenario(type) {
            currentScenario = type;
            document.getElementById('scenarioSelection').classList.add('hidden');
            document.getElementById('gameContent').classList.add('active');
            
            // Initialize scenario data
            loadScenarioContent();
            updateProgress();
        }

        function loadScenarioContent() {
            const scenarioData = scenarios[currentScenario];
            const container = document.getElementById('scenarioContent');
            container.innerHTML = '';
            
            // Create all scenario cards
            scenarioData.scenarios.forEach((scenario, index) => {
                const card = document.createElement('div');
                card.className = 'scenario-card';
                card.id = `scenario-${index}`;
                if (index === 0) card.classList.add('active');
                
                const calloutHtml = scenario.callout ? 
                    `<div class="moth-callout">${scenario.callout}</div>` : '';
                
                card.innerHTML = `
                    <div class="scenario-title">
                        <span class="scenario-icon-small">${scenario.icon}</span>
                        ${scenario.title}
                    </div>
                    <div class="scenario-description">
                        ${scenario.description}
                    </div>
                    ${calloutHtml}
                    <div class="compas-section">
                        <div class="compas-header">
                            <span class="compas-icon">${scenario.icon}</span>
                            ${scenario.question}
                        </div>
                        <div class="choice-grid">
                            ${scenario.choices.map(choice => `
                                <div class="choice-button" data-choice="${choice.id}">
                                    <strong>${choice.id})</strong> ${choice.text}
                                </div>
                            `).join('')}
                        </div>
                        <div class="feedback" id="feedback-${index}"></div>
                    </div>
                `;
                
                container.appendChild(card);
                
                // Set correct answer and feedback for this step
                correctAnswers[index] = scenario.correct;
                feedbackMessages[index] = scenario.feedback;
            });
            
            // Add click handlers
            document.querySelectorAll('.choice-button').forEach(button => {
                button.addEventListener('click', function() {
                    const choice = this.getAttribute('data-choice');
                    const scenario = this.closest('.scenario-card').id.split('-')[1];
                    selectChoice(parseInt(scenario), choice);
                });
            });
            
            // Update completion content
            const insights = scenarioData.insights;
            document.getElementById('completionMessage').textContent = scenarioData.completionTitle;
            document.getElementById('insightsTitle').textContent = scenarioData.insightsTitle;
            
            const insightsContent = document.getElementById('insightsContent');
            insightsContent.innerHTML = insights.map(insight => `
                <div class="insight-item">
                    <strong>${insight.title}:</strong> ${insight.text}
                </div>
            `).join('');
        }

        function selectChoice(step, choice) {
            // Remove previous selections
            const choices = document.querySelectorAll(`#scenario-${step} .choice-button`);
            choices.forEach(btn => {
                btn.classList.remove('selected', 'correct', 'incorrect');
            });

            // Mark selected choice
            const selectedBtn = document.querySelector(`#scenario-${step} .choice-button[data-choice="${choice}"]`);
            selectedBtn.classList.add('selected');

            // Store selection
            selectedChoices[step] = choice;

            // Show feedback
            const feedback = document.getElementById(`feedback-${step}`);
            const isCorrect = choice === correctAnswers[step];
            
            if (isCorrect) {
                selectedBtn.classList.add('correct');
                feedback.className = 'feedback success';
                feedback.innerHTML = `‚úÖ ${feedbackMessages[step].correct}`;
            } else {
                selectedBtn.classList.add('incorrect');
                feedback.className = 'feedback error';
                feedback.innerHTML = `‚ùå ${feedbackMessages[step].incorrect}`;
            }
            
            feedback.style.display = 'block';

            // Enable next button
            document.getElementById('nextBtn').disabled = false;
        }

        function updateProgress() {
            const progress = ((currentStep + 1) / 6) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;

            // Update step indicators
            document.querySelectorAll('.step-indicator').forEach((indicator, index) => {
                indicator.classList.remove('active', 'completed');
                if (index < currentStep) {
                    indicator.classList.add('completed');
                } else if (index === currentStep) {
                    indicator.classList.add('active');
                }
            });
        }

        function nextStep() {
            if (currentStep < 5) {
                // Hide current scenario
                document.getElementById(`scenario-${currentStep}`).classList.remove('active');
                
                currentStep++;
                
                // Show next scenario
                document.getElementById(`scenario-${currentStep}`).classList.add('active');
                
                updateProgress();
                
                // Reset navigation
                document.getElementById('nextBtn').disabled = true;
                document.getElementById('prevBtn').disabled = false;
            } else {
                // Show completion
                document.getElementById(`scenario-${currentStep}`).classList.remove('active');
                document.getElementById('completion').classList.add('active');
                document.getElementById('navigation').style.display = 'none';
                updateProgress();
            }
        }

        function previousStep() {
            if (currentStep > 0) {
                document.getElementById(`scenario-${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`scenario-${currentStep}`).classList.add('active');
                
                updateProgress();
                
                // Update navigation
                if (selectedChoices[currentStep]) {
                    document.getElementById('nextBtn').disabled = false;
                }
                
                if (currentStep === 0) {
                    document.getElementById('prevBtn').disabled = true;
                }
            }
        }

        function showSummary() {
            // Hide completion card and show summary
            document.getElementById('completion').classList.remove('active');
            document.getElementById('summary').classList.add('active');
            
            // Update summary content based on scenario
            const scenarioData = scenarios[currentScenario];
            document.getElementById('summaryMessage').textContent = scenarioData.summaryTitle;
            
            const summaryContent = document.getElementById('summaryContent');
            summaryContent.innerHTML = scenarioData.summaryContent.map(item => {
                // Extract the icon and step name from the item
                const iconMatch = item.match(/^(üîç|üéØ|üìã|üìä|üîÑ|‚≠ê)/);
                const icon = iconMatch ? iconMatch[1] : '';
                
                return `
                    <div class="accomplishment-card">
                        <div class="accomplishment-text">
                            <span class="compas-step-icon">${icon}</span>
                            ${item.replace(/^(üîç|üéØ|üìã|üìä|üîÑ|‚≠ê)\s*/, '')}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function resetGame() {
            currentStep = 0;
            selectedChoices = {};
            currentScenario = null;
            
            // Hide completion, summary and game content
            document.getElementById('completion').classList.remove('active');
            document.getElementById('summary').classList.remove('active');
            document.getElementById('gameContent').classList.remove('active');
            
            // Show scenario selection
            document.getElementById('scenarioSelection').classList.remove('hidden');
            
            // Clear scenario content
            document.getElementById('scenarioContent').innerHTML = '';
            
            // Reset navigation
            document.getElementById('navigation').style.display = 'flex';
            document.getElementById('prevBtn').disabled = true;
            document.getElementById('nextBtn').disabled = true;
        }
    </script>
</body>
</html>